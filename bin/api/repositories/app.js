"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const app_1 = require("../../models/app");
async function list() {
    return await app_1.App.query();
}
exports.list = list;
async function insert(model, transaction = null) {
    for (let m of model) {
        await app_1.App.query(transaction).insert(m);
    }
}
exports.insert = insert;
async function findByBundleId(id) {
    return await app_1.App.query().where('bundleId', id).first();
}
exports.findByBundleId = findByBundleId;
async function update(data) {
    await app_1.App.query().update(data).where({ bundleId: data.bundleId });
}
exports.update = update;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc2VydmVyL2FwaS9yZXBvc2l0b3JpZXMvYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsMENBQXVDO0FBSWhDLEtBQUs7SUFDVixNQUFNLENBQUMsTUFBTSxTQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDM0IsQ0FBQztBQUZELG9CQUVDO0FBRU0sS0FBSyxpQkFBaUIsS0FBYSxFQUFFLGNBQTJCLElBQUk7SUFDekUsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQztRQUNwQixNQUFNLFNBQUcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7QUFDSCxDQUFDO0FBSkQsd0JBSUM7QUFFTSxLQUFLLHlCQUF5QixFQUFVO0lBQzdDLE1BQU0sQ0FBQyxNQUFNLFNBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQ3pELENBQUM7QUFGRCx3Q0FFQztBQUVNLEtBQUssaUJBQWlCLElBQVU7SUFDckMsTUFBTSxTQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztBQUNwRSxDQUFDO0FBRkQsd0JBRUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHAgfSBmcm9tICcuLi8uLi9tb2RlbHMvYXBwJztcbmltcG9ydCB7IElBcHAgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2FwcCc7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbiB9IGZyb20gJ29iamVjdGlvbic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0KCk6IFByb21pc2U8QXBwW10+IHtcbiAgcmV0dXJuIGF3YWl0IEFwcC5xdWVyeSgpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5zZXJ0KG1vZGVsOiBJQXBwW10sIHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbiA9IG51bGwpOiBQcm9taXNlPHZvaWQ+IHtcbiAgZm9yIChsZXQgbSBvZiBtb2RlbCkge1xuICAgIGF3YWl0IEFwcC5xdWVyeSh0cmFuc2FjdGlvbikuaW5zZXJ0KG0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmaW5kQnlCdW5kbGVJZChpZDogc3RyaW5nKTogUHJvbWlzZTxBcHA+IHtcbiAgcmV0dXJuIGF3YWl0IEFwcC5xdWVyeSgpLndoZXJlKCdidW5kbGVJZCcsIGlkKS5maXJzdCgpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlKGRhdGE6IElBcHApOiBQcm9taXNlPHZvaWQ+IHtcbiAgYXdhaXQgQXBwLnF1ZXJ5KCkudXBkYXRlKGRhdGEpLndoZXJlKHsgYnVuZGxlSWQ6IGRhdGEuYnVuZGxlSWQgfSk7XG59Il19